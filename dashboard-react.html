<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rankly Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'Helvetica Neue', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        background: 'hsl(0 0% 100%)',
                        foreground: 'hsl(0 0% 0%)',
                        card: 'hsl(0 0% 100%)',
                        'card-foreground': 'hsl(0 0% 0%)',
                        popover: 'hsl(0 0% 100%)',
                        'popover-foreground': 'hsl(0 0% 0%)',
                        primary: 'hsl(0 0% 0%)',
                        'primary-foreground': 'hsl(0 0% 100%)',
                        secondary: 'hsl(0 0% 96%)',
                        'secondary-foreground': 'hsl(0 0% 0%)',
                        muted: 'hsl(0 0% 96%)',
                        'muted-foreground': 'hsl(0 0% 45%)',
                        accent: 'hsl(0 0% 96%)',
                        'accent-foreground': 'hsl(0 0% 0%)',
                        destructive: 'hsl(0 0% 0%)',
                        'destructive-foreground': 'hsl(0 0% 100%)',
                        border: 'hsl(0 0% 90%)',
                        input: 'hsl(0 0% 90%)',
                        ring: 'hsl(0 0% 0%)',
                        radius: '0.5rem',
                    }
                }
            }
        }
    </script>
    <style>
        .dark {
            --background: 0 0% 0%;
            --foreground: 0 0% 100%;
            --card: 0 0% 0%;
            --card-foreground: 0 0% 100%;
            --popover: 0 0% 0%;
            --popover-foreground: 0 0% 100%;
            --primary: 0 0% 100%;
            --primary-foreground: 0 0% 0%;
            --secondary: 0 0% 15%;
            --secondary-foreground: 0 0% 100%;
            --muted: 0 0% 15%;
            --muted-foreground: 0 0% 65%;
            --accent: 0 0% 15%;
            --accent-foreground: 0 0% 100%;
            --destructive: 0 0% 100%;
            --destructive-foreground: 0 0% 0%;
            --border: 0 0% 20%;
            --input: 0 0% 20%;
            --ring: 0 0% 100%;
        }

        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: 'Inter', 'Helvetica Neue', system-ui, sans-serif;
        }

        /* ShadCN Component Styles */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            border: 1px solid hsl(var(--border));
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            padding: 0.5rem 1rem;
            cursor: pointer;
        }

        .btn:hover {
            background-color: hsl(var(--accent));
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border-color: hsl(var(--primary));
        }

        .btn-primary:hover {
            background-color: hsl(var(--primary) / 0.9);
        }

        .card {
            background-color: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 0.5rem;
            padding: 1.5rem;
        }

        .tabs-trigger {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
            background: transparent;
            border: none;
            color: hsl(var(--muted-foreground));
        }

        .tabs-trigger:hover {
            color: hsl(var(--foreground));
        }

        .tabs-trigger[data-state="active"] {
            color: hsl(var(--foreground));
            background-color: hsl(var(--muted));
        }

        .tabs-list {
            display: flex;
            align-items: center;
            border-bottom: 1px solid hsl(var(--border));
            background: transparent;
            padding: 0;
            margin-bottom: 1.5rem;
        }

        .switch {
            position: relative;
            display: inline-flex;
            height: 1.5rem;
            width: 2.75rem;
            border-radius: 9999px;
            border: 1px solid hsl(var(--border));
            background-color: hsl(var(--muted));
            cursor: pointer;
            transition: all 0.2s;
        }

        .switch[data-state="checked"] {
            background-color: hsl(var(--primary));
        }

        .switch-thumb {
            display: block;
            height: 1.25rem;
            width: 1.25rem;
            border-radius: 9999px;
            background-color: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            transition: transform 0.2s;
            transform: translateX(0.125rem);
        }

        .switch[data-state="checked"] .switch-thumb {
            transform: translateX(1.375rem);
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 0.25rem;
        }

        .sidebar-item:hover {
            color: hsl(var(--foreground));
            background-color: hsl(var(--muted));
        }

        .sidebar-item.active {
            color: hsl(var(--foreground));
            background-color: hsl(var(--muted));
        }

        /* Typography */
        .typography-h1 {
            scroll-margin: 5rem;
            font-size: 2.25rem;
            font-weight: 800;
            line-height: 1.2;
            letter-spacing: -0.025em;
        }

        .typography-h2 {
            scroll-margin: 5rem;
            border-bottom: 1px solid hsl(var(--border));
            padding-bottom: 0.5rem;
            font-size: 1.875rem;
            font-weight: 600;
            line-height: 1.3;
            letter-spacing: -0.025em;
        }

        .typography-h3 {
            scroll-margin: 5rem;
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.3;
            letter-spacing: -0.025em;
        }

        .typography-muted {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }
    </style>
</head>
<body class="h-full bg-background text-foreground">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Theme Toggle Component
        const ThemeToggle = () => {
            const [isDark, setIsDark] = useState(() => {
                return localStorage.getItem('theme') === 'dark' || 
                       (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);
            });

            useEffect(() => {
                if (isDark) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
            }, [isDark]);

            return (
                <div className="flex items-center gap-2">
                    <span className="text-sm text-muted-foreground">Light</span>
                    <button 
                        className="switch" 
                        data-state={isDark ? "checked" : "unchecked"}
                        onClick={() => setIsDark(!isDark)}
                    >
                        <span className="switch-thumb"></span>
                    </button>
                    <span className="text-sm text-muted-foreground">Dark</span>
                </div>
            );
        };

        // Sidebar Item Component
        const SidebarItem = ({ icon, label, isActive, onClick }) => (
            <div 
                className={`sidebar-item ${isActive ? 'active' : ''}`}
                onClick={onClick}
            >
                <svg className="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    {icon}
                </svg>
                {label}
            </div>
        );

        // Metric Card Component
        const MetricCard = ({ title, value, change, changeType }) => (
            <div className="card">
                <h3 className="typography-h3 text-lg">{title}</h3>
                <p className="text-3xl font-bold text-foreground mt-2">{value}</p>
                <p className={`typography-muted mt-1 ${changeType === 'positive' ? 'text-green-600' : 'text-red-600'}`}>
                    {change}
                </p>
            </div>
        );

        // Prompt Item Component
        const PromptItem = ({ title, time, success, avgTime }) => (
            <div className="flex items-center justify-between p-3 border border-border rounded-lg">
                <div>
                    <p className="font-medium text-foreground">{title}</p>
                    <p className="typography-muted text-sm">{time}</p>
                </div>
                <div className="text-right">
                    <p className="text-sm font-medium text-foreground">{success}</p>
                    <p className="typography-muted text-xs">{avgTime}</p>
                </div>
            </div>
        );

        // Main Dashboard Component
        const Dashboard = () => {
            const [activeTab, setActiveTab] = useState('prompt');
            const [activeSidebar, setActiveSidebar] = useState('visibility');

            const tabs = [
                { id: 'prompt', label: 'Prompt' },
                { id: 'visibility', label: 'Visibility' },
                { id: 'sentiment', label: 'Sentiment' },
                { id: 'topics', label: 'Topics' },
                { id: 'citations', label: 'Citations' }
            ];

            const sidebarItems = [
                { 
                    id: 'visibility', 
                    label: 'Visibility', 
                    icon: <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                },
                { 
                    id: 'agent-analytics', 
                    label: 'Agent Analytics', 
                    icon: <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                },
                { 
                    id: 'content-regeneration', 
                    label: 'Content Regeneration', 
                    icon: <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                }
            ];

            const renderTabContent = () => {
                switch (activeTab) {
                    case 'prompt':
                        return (
                            <div className="space-y-6">
                                <div>
                                    <h2 className="typography-h2">Prompt Analytics</h2>
                                    <p className="typography-muted mt-2">
                                        Analyze your AI prompt performance and optimization opportunities.
                                    </p>
                                </div>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <MetricCard 
                                        title="Total Prompts"
                                        value="1,247"
                                        change="+12% from last month"
                                        changeType="positive"
                                    />
                                    <MetricCard 
                                        title="Success Rate"
                                        value="87.3%"
                                        change="+3.2% from last month"
                                        changeType="positive"
                                    />
                                    <MetricCard 
                                        title="Avg Response Time"
                                        value="2.4s"
                                        change="-0.3s from last month"
                                        changeType="positive"
                                    />
                                </div>

                                <div className="card">
                                    <h3 className="typography-h3 text-lg mb-4">Recent Prompts</h3>
                                    <div className="space-y-3">
                                        <PromptItem 
                                            title="Brand visibility analysis"
                                            time="Generated 2 hours ago"
                                            success="87% success"
                                            avgTime="2.1s avg time"
                                        />
                                        <PromptItem 
                                            title="Competitor comparison"
                                            time="Generated 4 hours ago"
                                            success="92% success"
                                            avgTime="1.8s avg time"
                                        />
                                        <PromptItem 
                                            title="Market sentiment tracking"
                                            time="Generated 6 hours ago"
                                            success="79% success"
                                            avgTime="3.2s avg time"
                                        />
                                    </div>
                                </div>
                            </div>
                        );
                    default:
                        return (
                            <div className="space-y-6">
                                <div>
                                    <h2 className="typography-h2">{tabs.find(t => t.id === activeTab)?.label} Analytics</h2>
                                    <p className="typography-muted mt-2">
                                        {activeTab} analytics content will be implemented here.
                                    </p>
                                </div>
                                <div className="card">
                                    <h3 className="typography-h3 text-lg mb-4">{activeTab.charAt(0).toUpperCase() + activeTab.slice(1)} Metrics</h3>
                                    <p className="typography-muted">Detailed {activeTab} analysis coming soon.</p>
                                </div>
                            </div>
                        );
                }
            };

            return (
                <div className="min-h-screen flex">
                    {/* Main Content Area */}
                    <div className="flex-1 flex flex-col">
                        {/* Header */}
                        <header className="border-b border-border bg-background px-6 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-4">
                                    <h1 className="typography-h1 text-2xl font-black tracking-tight text-foreground">
                                        Rankly
                                    </h1>
                                </div>
                                <ThemeToggle />
                            </div>
                        </header>

                        {/* Main Content */}
                        <main className="flex-1 p-6">
                            {/* Tabs Navigation */}
                            <div className="tabs-list">
                                {tabs.map(tab => (
                                    <button
                                        key={tab.id}
                                        className="tabs-trigger"
                                        data-state={activeTab === tab.id ? "active" : "inactive"}
                                        onClick={() => setActiveTab(tab.id)}
                                    >
                                        {tab.label}
                                    </button>
                                ))}
                            </div>

                            {/* Tab Content */}
                            {renderTabContent()}
                        </main>
                    </div>

                    {/* Right Sidebar */}
                    <div className="w-64 border-l border-border bg-background p-6">
                        <div className="space-y-2">
                            {sidebarItems.map(item => (
                                <SidebarItem
                                    key={item.id}
                                    icon={item.icon}
                                    label={item.label}
                                    isActive={activeSidebar === item.id}
                                    onClick={() => setActiveSidebar(item.id)}
                                />
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>
