# MongoDB Atlas Setup for Rankly

## üöÄ Quick Start

### Step 1: Create MongoDB Atlas Account

1. Visit: https://www.mongodb.com/cloud/atlas/register
2. Sign up (free account, no credit card required)
3. Verify your email

### Step 2: Create a Free Cluster

1. Click "Build a Database"
2. Choose **FREE** tier (M0 Sandbox)
3. Select a cloud provider (AWS recommended)
4. Choose a region close to you
5. Cluster Name: `Rankly` (or keep default)
6. Click "Create"
7. **Wait 3-5 minutes** for provisioning

### Step 3: Create Database User

1. Go to "Database Access" (left sidebar)
2. Click "Add New Database User"
3. Authentication Method: **Password**
4. Username: `rankly_user` (or your choice)
5. Password: Click "Autogenerate Secure Password" and **SAVE IT**
6. Database User Privileges: `Atlas admin`
7. Click "Add User"

### Step 4: Configure Network Access

1. Go to "Network Access" (left sidebar)
2. Click "Add IP Address"
3. For development, click **"Allow Access from Anywhere"** (0.0.0.0/0)
   - ‚ö†Ô∏è For production, use specific IP addresses
4. Click "Confirm"

### Step 5: Get Connection String

1. Go to "Database" (left sidebar)
2. Click "Connect" button on your cluster
3. Choose "Connect your application"
4. Driver: **Node.js**, Version: **Latest**
5. Copy the connection string (looks like this):
   ```
   mongodb+srv://rankly_user:<password>@cluster0.xxxxx.mongodb.net/?retryWrites=true&w=majority
   ```
6. **IMPORTANT**: Replace `<password>` with your actual password
7. Add database name after `.net/`: 
   ```
   mongodb+srv://rankly_user:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/rankly?retryWrites=true&w=majority
   ```

### Step 6: Update Backend .env File

Open `backend/.env` and update the `MONGODB_URI`:

```env
MONGODB_URI=mongodb+srv://rankly_user:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/rankly?retryWrites=true&w=majority
```

### Step 7: Test Connection

Restart the backend server:
```bash
cd backend
npm run dev
```

You should see:
```
‚úÖ MongoDB connected successfully
üìä Database: rankly
```

---

## üîê Security Best Practices

### For Development:
- ‚úÖ Use "Allow Access from Anywhere" for easy testing
- ‚úÖ Use strong password (generated by Atlas)
- ‚úÖ Keep `.env` in `.gitignore`

### For Production:
- ‚ö†Ô∏è Use specific IP addresses (your server's IP)
- ‚ö†Ô∏è Use different credentials than development
- ‚ö†Ô∏è Enable connection string encryption
- ‚ö†Ô∏è Set up monitoring and alerts

---

## üìä Atlas Features

### Free Tier (M0) Includes:
- ‚úÖ 512 MB storage
- ‚úÖ Shared RAM
- ‚úÖ Shared vCPU
- ‚úÖ Good for development and small projects
- ‚úÖ No credit card required

### When to Upgrade:
- Need more storage (>512MB)
- Need dedicated resources
- Production traffic
- Need backups and point-in-time recovery

---

## üêõ Troubleshooting

### "Bad auth: Authentication failed"
- Check username and password are correct
- Make sure you replaced `<password>` in connection string
- Try resetting user password in Atlas

### "Connection timeout"
- Check network access allows your IP (0.0.0.0/0)
- Verify cluster is running (not paused)
- Check firewall isn't blocking port 27017

### "Database name not set"
- Make sure you added `/rankly` after `.mongodb.net`
- Full format: `mongodb+srv://user:pass@cluster.mongodb.net/rankly?options`

---

## üìû Need Help?

1. Check Atlas documentation: https://docs.atlas.mongodb.com/
2. MongoDB Community Forums: https://www.mongodb.com/community/forums/
3. Or just ask me! üòä

---

## ‚úÖ Checklist

- [ ] Created MongoDB Atlas account
- [ ] Created free M0 cluster (wait 3-5 min)
- [ ] Created database user with password
- [ ] Added IP address (0.0.0.0/0 for dev)
- [ ] Got connection string
- [ ] Replaced `<password>` with actual password
- [ ] Added `/rankly` database name
- [ ] Updated `backend/.env` file
- [ ] Restarted backend server
- [ ] Saw "‚úÖ MongoDB connected successfully"

Once all checked, you're ready to go! üöÄ


